const I=document.getElementById("wilayaSelect"),f=document.getElementById("userWilayaCode");I.value=f.innerText;const u=document.getElementById("dairaSelect"),T=document.getElementById("userDairaCode"),[x]=document.getElementsByTagName("html"),B=x.getAttribute("lang"),c=new XMLHttpRequest;c.onreadystatechange=function(){this.readyState===4&&this.status===200&&(JSON.parse(this.responseText).forEach(e=>{var l=document.createElement("option");l.value=e.id,l.text=B==="ar"?e.arName:e.name,u.add(l),u.removeAttribute("disabled")}),u.value=T.innerText)};c.open("GET","/api/dairas/"+f.innerText,!0);c.send();const b=document.getElementById("readyToGive"),S=document.getElementById("userIsReadyToGive");var V=S.innerText==="1";b.checked=V;const r=document.getElementById("id_password_current_password"),a=document.getElementById("id_password"),o=document.getElementById("id_confirm_password"),m=document.forms[1];function p(){return r.value.length>0?(r.classList.remove("is-invalid"),!0):(r.classList.add("is-invalid"),!1)}function y(){return a.value.length>=8?(a.classList.remove("is-invalid"),!0):(a.classList.add("is-invalid"),!1)}function E(){return a.value===o.value?(o.classList.remove("is-invalid"),!0):(o.classList.add("is-invalid"),!1)}r.addEventListener("input",p);a.addEventListener("input",y);o.addEventListener("input",E);function _(){return!(!p()||!y()||!E())}m.addEventListener("submit",n=>{_()?m.submit():(n.preventDefault(),n.stopPropagation(),window.setTimeout(function(){var e=document.querySelectorAll(".is-invalid");e.length&&window.scrollTo({top:e[0].offsetTop-100,behavior:"smooth"})},0))});const s=document.getElementById("wilayaSelect"),i=document.getElementById("dairaSelect"),t=document.getElementById("id_phone"),d=document.getElementById("id_email"),v=document.forms[2];function g(){return s.options[s.selectedIndex].text==="Wilaya"||s.options[s.selectedIndex].text==="\u0627\u0644\u0648\u0644\u0627\u064A\u0629"?(s.classList.add("is-invalid"),!1):(s.classList.remove("is-invalid"),!0)}function w(){return i.options[i.selectedIndex].text==="Daira"||i.options[i.selectedIndex].text==="\u0627\u0644\u062F\u0627\u0626\u0631\u0629"?(i.classList.add("is-invalid"),!1):(i.classList.remove("is-invalid"),!0)}function h(){return/\D/.test(t.value)||t.value.length<10||!t.value.startsWith("05")&!t.value.startsWith("06")&!t.value.startsWith("07")?(t.classList.add("is-invalid"),!1):(t.classList.remove("is-invalid"),!0)}function L(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.value)?(d.classList.remove("is-invalid"),!0):(d.classList.add("is-invalid"),!1)}function C(){return g()&&w()&&h()?!!L():!1}s.addEventListener("input",g);i.addEventListener("input",w);t.addEventListener("input",h);d.addEventListener("input",L);v.addEventListener("submit",n=>{C()?v.submit():(n.preventDefault(),n.stopPropagation(),window.setTimeout(function(){var e=document.querySelectorAll(".is-invalid");e.length&&window.scrollTo({top:e[0].offsetTop-100,behavior:"smooth"})},0))});
